
// Test/test.js
import http from 'k6/http';
import { check, sleep } from 'k6';
export const options = {

stages: [
{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

{ duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },
{duration: '3s', target: 10000 },
{ duration: '1m', target: 10000 },
{ duration: '10s', target: 0 },
{ duration: '2m', target: 0 },

],



thresholds: {
'http_req_failed': ['rate<0.1'],
'http_req_duration': ['p(95)<5000'],
},
};


const TARGET_URL = __ENV.K6_TARGET_URL || 'https://test.k6.io';


export default function () {
const res = http.get(TARGET_URL);

check(res, {
'Trang chủ phản hồi thành công (status 200)': (r) => r.status === 200,
});

sleep(0);
}
